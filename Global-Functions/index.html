<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PyPositron Docs - Documentation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-in': 'slideIn 0.3s ease-out'
                    }
                }
            }
        }
    </script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateX(-20px);
            }
            to { 
                opacity: 1;
                transform: translateX(0);
            }
        }

        .sidebar {
            transition: transform 0.3s ease-in-out;
        }
        
        .sidebar.mobile-hidden {
            transform: translateX(-100%);
        }

        .mobile-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 40;
        }
        
        .mobile-overlay.active {
            display: block;
        }

        .hero-gradient {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Documentation Content Styles */
        .docs-content {
            line-height: 1.7;
            color: #374151;
        }

        .docs-content h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            margin-top: 3rem;
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .docs-content h1:first-child {
            margin-top: 0;
        }

        .docs-content h2 {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            margin-top: 2.5rem;
            color: #1f2937;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 0.5rem;
        }

        .docs-content h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            margin-top: 2rem;
            color: #374151;
        }

        .docs-content h4 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            margin-top: 1.5rem;
            color: #4b5563;
        }

        .docs-content p {
            margin-bottom: 1rem;
            color: #6b7280;
            font-size: 1rem;
        }

        .docs-content ul, .docs-content ol {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
        }

        .docs-content ul {
            list-style-type: disc;
        }

        .docs-content ol {
            list-style-type: decimal;
        }

        .docs-content li {
            margin-bottom: 0.5rem;
            color: #6b7280;
        }

        .docs-content a {
            color: #3b82f6;
            text-decoration: underline;
            font-weight: 500;
        }

        .docs-content a:hover {
            color: #1d4ed8;
        }

        .docs-content blockquote {
            border-left: 4px solid #3b82f6;
            padding-left: 1rem;
            margin: 1.5rem 0;
            background-color: #f8fafc;
            padding: 1rem;
            border-radius: 0.375rem;
        }

        .docs-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: white;
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }

        .docs-content th, .docs-content td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }

        .docs-content th {
            background-color: #f9fafb;
            font-weight: 600;
            color: #374151;
        }

        /* Inline code styling */
        .docs-content code:not([class*="language-"]) {
            background-color: #1f2937 !important;
            color: #f9fafb !important;
            padding: 0.25rem 0.5rem !important;
            border-radius: 0.375rem !important;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace !important;
            font-size: 0.875rem !important;
            font-weight: 500;
        }

        /* Code block container */
        .code-block-container {
            position: relative;
            margin: 1.5rem 0;
        }

        /* Override Prism.js styles */
        .docs-content pre[class*="language-"] {
            background: #1f2937 !important;
            border-radius: 0.5rem !important;
            padding: 1.5rem !important;
            margin: 1.5rem 0 !important;
            overflow-x: auto;
            position: relative;
        }

        .docs-content code[class*="language-"] {
            background: transparent !important;
            color: #f9fafb !important;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace !important;
            font-size: 0.875rem !important;
            line-height: 1.5;
        }

        /* Copy button for code blocks */
        .copy-button {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: rgba(55, 65, 81, 0.8);
            border: 1px solid rgba(75, 85, 99, 0.5);
            color: #d1d5db;
            padding: 0.5rem;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 2rem;
            height: 2rem;
            z-index: 10;
        }

        .copy-button:hover {
            background: rgba(75, 85, 99, 0.8);
            color: #f9fafb;
        }

        .copy-button.copied {
            background: rgba(34, 197, 94, 0.8);
            color: white;
        }

        /* Sidebar styles */
        .sidebar-link {
            display: block;
            padding: 0.5rem 1rem;
            color: #6b7280;
            text-decoration: none;
            border-radius: 0.375rem;
            transition: all 0.2s ease;
            font-size: 0.875rem;
        }

        .sidebar-link:hover {
            background-color: #f3f4f6;
            color: #374151;
        }

        .sidebar-link.active {
            background-color: #dbeafe;
            color: #1d4ed8;
            font-weight: 500;
        }

        .sidebar-section {
            margin-bottom: 1.5rem;
        }

        .sidebar-section-title {
            font-weight: 600;
            color: #374151;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
            padding: 0 1rem;
        }

        @media (max-width: 768px) {
            .sidebar {
                position: fixed;
                top: 0;
                left: 0;
                height: 100vh;
                z-index: 50;
                background: white;
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            }
        }

        /* Alert boxes */
        .alert {
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1.5rem 0;
            display: flex;
            align-items: flex-start;
        }

        .alert-info {
            background-color: #eff6ff;
            border: 1px solid #bfdbfe;
            color: #1e40af;
        }

        .alert-success {
            background-color: #f0fdf4;
            border: 1px solid #bbf7d0;
            color: #166534;
        }

        .alert-warning {
            background-color: #fffbeb;
            border: 1px solid #fed7aa;
            color: #92400e;
        }

        .alert-error {
            background-color: #fef2f2;
            border: 1px solid #fecaca;
            color: #dc2626;
        }
    </style>
    
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-M8FQBM4RL7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M8FQBM4RL7');
</script>
<body class="min-h-screen bg-gradient-to-br from-slate-50 to-blue-50">
    <!-- Mobile Overlay -->
    <div id="mobile-overlay" class="mobile-overlay" onclick="toggleSidebar()"></div>

    <!-- Header -->
    <header class="border-b bg-white/80 backdrop-blur-sm sticky top-0 z-30">
        <div class="container mx-auto px-4 py-4 flex items-center justify-between">
            <div class="flex items-center space-x-2">
                <div class="w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                    </svg>
                </div>
                <span class="text-xl font-bold">PyPositron Docs</span>
            </div>
            <nav class="hidden md:flex items-center space-x-6">
                <a href="/" class="text-sm font-medium hover:text-blue-600 transition-colors">Home</a>
                <a href="/Home" class="text-sm font-medium text-blue-600">Docs</a>
                <a href="https://github.com/itzmetanjim/py-positron" class="inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors">
                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                    </svg>
                    GitHub
                </a>
            </nav>
        </div>
    </header>

    <div class="flex">
        <!-- Sidebar -->
         <aside id="sidebar" class="sidebar w-64 bg-white border-r border-gray-200 h-screen sticky top-16 overflow-y-auto">
            <div class="p-6">
                <div class="sidebar-section">
                    <div class="sidebar-section-title">Documentation</div>
                    <nav class="space-y-1">
                        <!--<a href="ORIGINALNAME.html" class="sidebar-link active">FORMATTEDNAME</a>-->
                        <a href="/Browser-Objects" class="sidebar-link">Browser Objects</a>
<a href="/CLI-Commands" class="sidebar-link">Cli Commands</a>
<a href="/Document" class="sidebar-link">Document</a>
<a href="/Element" class="sidebar-link">Element</a>
<a href="/ElementList" class="sidebar-link">Elementlist</a>
<a href="/Getting-Started" class="sidebar-link">Getting Started</a>
<a href="/Global-Functions" class="sidebar-link">Global Functions</a>
<a href="/Home" class="sidebar-link">Home</a>
<a href="/HTMLWindow" class="sidebar-link">Htmlwindow</a>
<a href="/Installation" class="sidebar-link">Installation</a>
<a href="/Internal-Classes" class="sidebar-link">Internal Classes</a>
<a href="/Library-Reference" class="sidebar-link">Library Reference</a>
<a href="/PositronWindowWrapper" class="sidebar-link">Positronwindowwrapper</a>
<a href="/Python-HTML-Integration" class="sidebar-link">Python Html Integration</a>
<a href="/Quick-Start" class="sidebar-link">Quick Start</a>
<a href="/Style" class="sidebar-link">Style</a>
<a href="/Troubleshooting" class="sidebar-link">Troubleshooting</a>
<a href="/Virtual-Environments" class="sidebar-link">Virtual Environments</a>
                    </nav>
                </div>

            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6 md:p-8 max-w-4xl">
            <div class="docs-content">
                <!-- 
                ============================================
                INSERT CONVERTED UNSTYLED DOCS HTML HERE
                ============================================
                
                This is where you should place the automatically converted
                HTML content from your documentation source (Markdown, etc.).
                All styling is handled by CSS classes above, so no inline
                styles are needed.
                
                Example of what the converted HTML should look like:
                -->
                
                <h1>Global Functions</h1>
<p>PyPositron provides several global functions that serve as the main entry points for creating and managing PyPositron applications. These functions handle window creation, event loop management, and utility operations.</p>
<h2>openUI()</h2>
<p>The primary function for creating and displaying a PyPositron window. This is the main entry point for most PyPositron applications.</p>
<h3>Signature</h3>
<pre><code class="language-python">openUI(html_path, main=None, after_close=None, width=900, height=700, title=&quot;Window&quot;, 
       functions=None, x=None, y=None, resizable=True, fullscreen=False, 
       min_size=(200, 100), hidden=False, frameless=False, easy_drag=True, 
       shadow=True, focus=True, minimized=False, maximized=False, on_top=False, 
       confirm_close=False, background_color='#FFFFFF', transparent=False, 
       text_select=False, zoomable=False, draggable=False, vibrancy=False,
       gui=None, debug=False, http_server=False, http_port=None, 
       user_agent=None, private_mode=True, storage_path=None, icon=None) -&gt; PositronWindowWrapper
</code></pre>
<h3>Parameters</h3>
<h4>Required Parameters</h4>
<ul>
<li><code>html_path: str</code>: Path to the HTML file to load. This should be relative to your Python script or an absolute path.</li>
</ul>
<h4>Core Application Parameters</h4>
<ul>
<li><code>main: Callable[[PositronWindowWrapper], None] | None</code>: Function to run when the window opens. Receives a PositronWindowWrapper object as parameter. Default: None</li>
<li><code>after_close: Callable[[PositronWindowWrapper], None] | None</code>: Function to run when the window closes. Default: None</li>
<li><code>functions: list | None</code>: List of Python functions to expose to JavaScript. These become available in <code>&lt;py&gt;</code> tags and JavaScript. Default: None</li>
</ul>
<h4>Window Appearance</h4>
<ul>
<li><code>width: int</code>: Window width in pixels. Default: 900</li>
<li><code>height: int</code>: Window height in pixels. Default: 700</li>
<li><code>title: str</code>: Window title shown in the title bar. Default: &quot;Window&quot;</li>
<li><code>background_color: str</code>: Window background color in CSS format. Default: '#FFFFFF'</li>
<li><code>icon: str | None</code>: Path to window icon file. Only supported in Qt/GTK backends. Default: None</li>
</ul>
<h4>Window Position and Size</h4>
<ul>
<li><code>x: int | None</code>: X coordinate of the window position. Default: None (center)</li>
<li><code>y: int | None</code>: Y coordinate of the window position. Default: None (center)</li>
<li><code>min_size: tuple[int, int]</code>: Minimum window size as (width, height). Default: (200, 100)</li>
<li><code>resizable: bool</code>: Whether the window can be resized. Default: True</li>
</ul>
<h4>Window State</h4>
<ul>
<li><code>hidden: bool</code>: Whether the window is initially hidden. Default: False</li>
<li><code>fullscreen: bool</code>: Whether the window starts in fullscreen mode. Default: False</li>
<li><code>minimized: bool</code>: Whether the window is initially minimized. Default: False</li>
<li><code>maximized: bool</code>: Whether the window is initially maximized. Default: False</li>
<li><code>focus: bool</code>: Whether the window has focus when created. Default: True</li>
</ul>
<h4>Window Behavior</h4>
<ul>
<li><code>frameless: bool</code>: Whether the window has no frame/border (no title bar, borders). Default: False</li>
<li><code>easy_drag: bool</code>: Whether frameless windows can be easily dragged. Default: True</li>
<li><code>shadow: bool</code>: Whether the window has a drop shadow. Default: True</li>
<li><code>on_top: bool</code>: Whether the window stays on top of other windows. Default: False</li>
<li><code>confirm_close: bool</code>: Whether to show confirmation dialog when closing. Default: False</li>
<li><code>transparent: bool</code>: Whether the window background is transparent. Default: False</li>
<li><code>vibrancy: bool</code>: Whether the window has vibrancy effect on macOS. Default: False</li>
</ul>
<h4>Content Behavior</h4>
<ul>
<li><code>text_select: bool</code>: Whether text selection is enabled in the webview. Default: False</li>
<li><code>zoomable: bool</code>: Whether content can be zoomed (Ctrl+/Ctrl-). Default: False</li>
<li><code>draggable: bool</code>: Whether the window can be dragged. Default: False</li>
</ul>
<h4>Browser Configuration</h4>
<ul>
<li><code>gui: webview.GUIType | None</code>: GUI toolkit to use. Options: 'qt', 'gtk', 'cef', 'mshtml', 'edgechromium', 'android'. Default: None (auto-select)</li>
<li><code>debug: bool</code>: Whether to enable debug mode (developer tools). Default: False</li>
<li><code>private_mode: bool</code>: Whether to run in private browsing mode. Default: True</li>
<li><code>user_agent: str | None</code>: Custom user agent string. Default: None</li>
</ul>
<h4>HTTP Server</h4>
<ul>
<li><code>http_server: bool</code>: Whether to serve local files using HTTP server instead of file:// protocol. Default: False</li>
<li><code>http_port: int | None</code>: HTTP server port. Default: None (auto-select)</li>
</ul>
<h4>Storage</h4>
<ul>
<li><code>storage_path: str | None</code>: Path for storing browser data (cookies, localStorage, etc.). Default: None</li>
</ul>
<h3>Returns</h3>
<ul>
<li><code>PositronWindowWrapper</code>: A wrapper object providing access to the window and context.</li>
</ul>
<h3>Raises</h3>
<ul>
<li><code>RuntimeError</code>: If not called from the main thread</li>
<li><code>FileNotFoundError</code>: If the HTML file is not found</li>
</ul>
<h3>Usage Examples</h3>
<h4>Basic Usage</h4>
<pre><code class="language-python">import py_positron

def main(ui):
    ui.document.getElementById(&quot;title&quot;).innerText = &quot;Hello PyPositron!&quot;

py_positron.openUI(&quot;index.html&quot;, main=main)
</code></pre>
<h4>Customized Window</h4>
<pre><code class="language-python">import py_positron

def main(ui):
    # Your app logic here
    pass

def on_close(ui):
    print(&quot;Window is closing...&quot;)

py_positron.openUI(
    &quot;app.html&quot;,
    main=main,
    after_close=on_close,
    width=1200,
    height=800,
    title=&quot;My PyPositron App&quot;,
    resizable=True,
    background_color=&quot;#f0f0f0&quot;
)
</code></pre>
<h4>Frameless Window</h4>
<pre><code class="language-python">import py_positron

def main(ui):
    # Create custom title bar since window is frameless
    title_bar = ui.document.getElementById(&quot;titleBar&quot;)
    close_btn = ui.document.getElementById(&quot;closeBtn&quot;)
    
    def close_window():
        ui.window.destroy()
    
    close_btn.addEventListener(&quot;click&quot;, close_window)

py_positron.openUI(
    &quot;frameless.html&quot;,
    main=main,
    frameless=True,
    easy_drag=True,
    width=800,
    height=600
)
</code></pre>
<h4>Exposing Python Functions</h4>
<pre><code class="language-python">import py_positron

def calculate_sum(a, b):
    return a + b

def get_system_info():
    import platform
    return {
        &quot;system&quot;: platform.system(),
        &quot;python_version&quot;: platform.python_version()
    }

def main(ui):
    # Functions are now available in JavaScript and &lt;py&gt; tags
    pass

py_positron.openUI(
    &quot;calculator.html&quot;,
    main=main,
    functions=[calculate_sum, get_system_info]
)
</code></pre>
<h4>Development Mode</h4>
<pre><code class="language-python">import py_positron

def main(ui):
    pass

py_positron.openUI(
    &quot;debug.html&quot;,
    main=main,
    debug=True,  # Enables developer tools
    http_server=True,  # Serves files via HTTP
    http_port=8080
)
</code></pre>
<h2>start()</h2>
<p>Starts the webview event loop. This function is typically not needed as <code>openUI()</code> handles this automatically, but it can be useful in advanced scenarios.</p>
<h3>Signature</h3>
<pre><code class="language-python">start() -&gt; None
</code></pre>
<h3>Usage</h3>
<pre><code class="language-python">import py_positron

# This is usually handled automatically by openUI()
py_positron.start()
</code></pre>
<h2>escape_js_string()</h2>
<p>Escapes a string for safe use in JavaScript code. This is useful when dynamically generating JavaScript code or when passing Python strings that may contain special characters.</p>
<h3>Signature</h3>
<pre><code class="language-python">escape_js_string(string: str) -&gt; str
</code></pre>
<h3>Parameters</h3>
<ul>
<li><code>string: str</code>: The string to escape</li>
</ul>
<h3>Returns</h3>
<ul>
<li><code>str</code>: The escaped string safe for JavaScript</li>
</ul>
<h3>Usage Examples</h3>
<pre><code class="language-python">import py_positron

def main(ui):
    user_input = &quot;Hello 'World' with \&quot;quotes\&quot; and \n newlines&quot;
    safe_string = py_positron.escape_js_string(user_input)
    
    # Now safe to use in JavaScript
    js_code = f&quot;console.log('{safe_string}');&quot;
    
    # Or when setting element content
    element = ui.document.getElementById(&quot;output&quot;)
    element.innerText = safe_string
</code></pre>
<h2>run_python_code_in_html()</h2>
<p>Processes and executes Python code embedded in HTML <code>&lt;py&gt;</code> tags. This function is used internally by PyPositron but can be called manually for advanced use cases.</p>
<h3>Signature</h3>
<pre><code class="language-python">run_python_code_in_html(html_content: str, context: PositronContext) -&gt; str
</code></pre>
<h3>Parameters</h3>
<ul>
<li><code>html_content: str</code>: HTML content containing <code>&lt;py&gt;</code> tags</li>
<li><code>context: PositronContext</code>: The execution context for Python code</li>
</ul>
<h3>Returns</h3>
<ul>
<li><code>str</code>: HTML content with <code>&lt;py&gt;</code> tags processed and executed</li>
</ul>
<h3>Usage</h3>
<p>This function is primarily used internally, but understanding it helps when working with <code>&lt;py&gt;</code> tags:</p>
<pre><code class="language-html">&lt;!-- This gets processed by run_python_code_in_html() --&gt;
&lt;py&gt;
button = document.getElementById(&quot;myButton&quot;)
button.innerText = &quot;Updated by Python!&quot;
button.style.color = &quot;blue&quot;
&lt;/py&gt;
</code></pre>
<h2>Complete Application Examples</h2>
<h3>Simple Calculator</h3>
<pre><code class="language-python">import py_positron

def add(a, b):
    return float(a) + float(b)

def subtract(a, b):
    return float(a) - float(b)

def multiply(a, b):
    return float(a) * float(b)

def divide(a, b):
    if float(b) == 0:
        return &quot;Error: Division by zero&quot;
    return float(a) / float(b)

def main(ui):
    # Calculator logic
    display = ui.document.getElementById(&quot;display&quot;)
    buttons = ui.document.getElementsByClassName(&quot;calc-btn&quot;)
    
    current_value = &quot;&quot;
    operator = None
    stored_value = None
    
    def update_display():
        display.value = current_value or &quot;0&quot;
    
    def handle_number(num):
        nonlocal current_value
        current_value += str(num)
        update_display()
    
    def handle_operator(op):
        nonlocal current_value, operator, stored_value
        if current_value:
            stored_value = float(current_value)
            current_value = &quot;&quot;
            operator = op
    
    def calculate():
        nonlocal current_value, operator, stored_value
        if stored_value is not None and current_value and operator:
            try:
                if operator == &quot;+&quot;:
                    result = add(stored_value, current_value)
                elif operator == &quot;-&quot;:
                    result = subtract(stored_value, current_value)
                elif operator == &quot;*&quot;:
                    result = multiply(stored_value, current_value)
                elif operator == &quot;/&quot;:
                    result = divide(stored_value, current_value)
                
                current_value = str(result)
                operator = None
                stored_value = None
                update_display()
            except Exception as e:
                current_value = &quot;Error&quot;
                update_display()
    
    # Set up button event handlers
    for button in buttons:
        value = button.getAttribute(&quot;data-value&quot;)
        if value:
            if value.isdigit() or value == &quot;.&quot;:
                button.addEventListener(&quot;click&quot;, lambda: handle_number(value))
            elif value in [&quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;]:
                button.addEventListener(&quot;click&quot;, lambda: handle_operator(value))
            elif value == &quot;=&quot;:
                button.addEventListener(&quot;click&quot;, calculate)
            elif value == &quot;clear&quot;:
                def clear():
                    nonlocal current_value, operator, stored_value
                    current_value = &quot;&quot;
                    operator = None
                    stored_value = None
                    update_display()
                button.addEventListener(&quot;click&quot;, clear)
    
    update_display()

py_positron.openUI(
    &quot;calculator.html&quot;,
    main=main,
    title=&quot;PyPositron Calculator&quot;,
    width=300,
    height=400,
    resizable=False,
    functions=[add, subtract, multiply, divide]
)
</code></pre>
<h3>File Manager</h3>
<pre><code class="language-python">import py_positron
import os
import json

def get_directory_contents(path):
    try:
        items = []
        for item in os.listdir(path):
            item_path = os.path.join(path, item)
            items.append({
                &quot;name&quot;: item,
                &quot;path&quot;: item_path,
                &quot;is_directory&quot;: os.path.isdir(item_path),
                &quot;size&quot;: os.path.getsize(item_path) if os.path.isfile(item_path) else 0
            })
        return items
    except Exception as e:
        return []

def main(ui):
    current_path = os.getcwd()
    path_display = ui.document.getElementById(&quot;currentPath&quot;)
    file_list = ui.document.getElementById(&quot;fileList&quot;)
    
    def update_file_list():
        nonlocal current_path
        path_display.innerText = current_path
        file_list.innerHTML = &quot;&quot;
        
        contents = get_directory_contents(current_path)
        
        # Add parent directory option
        if current_path != os.path.dirname(current_path):
            parent_item = ui.document.createElement(&quot;div&quot;)
            parent_item.className = &quot;file-item directory&quot;
            parent_item.innerText = &quot;..&quot;
            parent_item.addEventListener(&quot;click&quot;, lambda: navigate_to(os.path.dirname(current_path)))
            file_list.appendChild(parent_item)
        
        # Add files and directories
        for item in contents:
            item_element = ui.document.createElement(&quot;div&quot;)
            item_element.className = f&quot;file-item {'directory' if item['is_directory'] else 'file'}&quot;
            item_element.innerText = item['name']
            
            if item['is_directory']:
                item_element.addEventListener(&quot;click&quot;, lambda: navigate_to(item['path']))
            
            file_list.appendChild(item_element)
    
    def navigate_to(path):
        nonlocal current_path
        if os.path.isdir(path):
            current_path = path
            update_file_list()
    
    # Initial load
    update_file_list()

py_positron.openUI(
    &quot;filemanager.html&quot;,
    main=main,
    title=&quot;PyPositron File Manager&quot;,
    width=800,
    height=600,
    functions=[get_directory_contents]
)
</code></pre>
<h2>Best Practices</h2>
<ol>
<li>
<p><strong>Keep the main function focused</strong>: Use the main function primarily for UI setup and event binding.</p>
</li>
<li>
<p><strong>Handle errors gracefully</strong>: Always wrap potentially failing operations in try-catch blocks.</p>
</li>
<li>
<p><strong>Use appropriate window settings</strong>: Choose window parameters that make sense for your application type.</p>
</li>
<li>
<p><strong>Expose only necessary functions</strong>: Only expose Python functions to JavaScript that are actually needed.</p>
</li>
<li>
<p><strong>Clean up resources</strong>: Use the <code>after_close</code> callback to clean up any resources when the window closes.</p>
</li>
<li>
<p><strong>Test different backends</strong>: If you encounter issues, try different GUI backends using the <code>gui</code> parameter.</p>
</li>
<li>
<p><strong>Use debug mode during development</strong>: Enable debug mode to access developer tools for easier debugging.</p>
</li>
</ol>
<pre><code class="language-python"># Good practice example
import py_positron
import logging

def safe_file_operation(filename):
    try:
        with open(filename, 'r') as f:
            return f.read()
    except Exception as e:
        logging.error(f&quot;File operation failed: {e}&quot;)
        return f&quot;Error: {str(e)}&quot;

def main(ui):
    try:
        # Initialize UI components
        setup_event_handlers(ui)
        load_initial_data(ui)
    except Exception as e:
        ui.htmlwindow.alert(f&quot;Initialization error: {e}&quot;)

def cleanup(ui):
    # Clean up resources
    logging.info(&quot;Application closing&quot;)

py_positron.openUI(
    &quot;app.html&quot;,
    main=main,
    after_close=cleanup,
    debug=True,  # Enable during development
    functions=[safe_file_operation]
)
</code></pre>
<h2>Related Documentation</h2>
<ul>
<li><strong><a href="/PositronWindowWrapper">PositronWindowWrapper</a></strong>: The object returned by <code>openUI()</code></li>
<li><strong><a href="/Python-HTML-Integration">Python in HTML</a></strong>: Using <code>&lt;py&gt;</code> tags and exposed functions</li>
<li><strong><a href="/Document">Document</a></strong>: DOM manipulation</li>
<li><strong><a href="/HTMLWindow">HTMLWindow</a></strong>: Browser window functionality</li>
</ul>

                
                <!-- 
                ============================================
                END OF CONVERTED DOCS INSERTION POINT
                ============================================
                -->
            </div>
        </main>
    </div>

    <script>
        // Initialize Prism.js
        Prism.manual = true;

        // Copy button functionality for all code blocks
        function addCopyButtons() {
            const codeBlocks = document.querySelectorAll('pre[class*="language-"]');
            
            codeBlocks.forEach(pre => {
                // Create container if it doesn't exist
                if (!pre.parentElement.classList.contains('code-block-container')) {
                    const container = document.createElement('div');
                    container.className = 'code-block-container';
                    pre.parentNode.insertBefore(container, pre);
                    container.appendChild(pre);
                }
                
                const container = pre.parentElement;
                const codeElement = pre.querySelector('code');
                
                const copyButton = document.createElement('button');
                copyButton.className = 'copy-button';
                copyButton.innerHTML = `
                    <svg class="copy-icon" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                    </svg>
                `;
                
                copyButton.addEventListener('click', async () => {
                    try {
                        await navigator.clipboard.writeText(codeElement.textContent);
                        
                        // Change to check icon
                        copyButton.innerHTML = `
                            <svg class="check-icon" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                        `;
                        copyButton.classList.add('copied');
                        
                        // Revert back after 2 seconds
                        setTimeout(() => {
                            copyButton.innerHTML = `
                                <svg class="copy-icon" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                            `;
                            copyButton.classList.remove('copied');
                        }, 2000);
                        
                    } catch (err) {
                        console.error('Failed to copy text: ', err);
                    }
                });
                
                container.appendChild(copyButton);
            });
        }

        // Sidebar functionality
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobile-overlay');
            
            sidebar.classList.toggle('mobile-hidden');
            overlay.classList.toggle('active');
        }

        // Smooth scrolling for sidebar links (only for anchor links)
function setupSmoothScrolling() {
    const sidebarLinks = document.querySelectorAll('.sidebar-link');
    
    sidebarLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            const href = link.getAttribute('href');
            
            // Only handle anchor links (starting with #)
            if (href && href.startsWith('#')) {
                e.preventDefault();
                
                // Remove active class from all links
                sidebarLinks.forEach(l => l.classList.remove('active'));
                
                // Add active class to clicked link
                link.classList.add('active');
                
                // Get target section
                const targetId = href.substring(1);
                const targetSection = document.getElementById(targetId);
                
                if (targetSection) {
                    targetSection.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
                
                // Close mobile sidebar
                if (window.innerWidth < 768) {
                    toggleSidebar();
                }
            } else {
                // For regular links (to other pages), just close mobile sidebar if open
                if (window.innerWidth < 768) {
                    toggleSidebar();
                }
                // Let the browser handle the navigation normally
            }
        });
    });
}

        // Highlight active section based on scroll position (only for anchor links)
function setupScrollSpy() {
    const sections = document.querySelectorAll('section[id], h1[id], h2[id], h3[id]');
    const sidebarLinks = document.querySelectorAll('.sidebar-link[href^="#"]'); // Only anchor links
    
    function updateActiveLink() {
        let current = '';
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            
            if (window.scrollY >= sectionTop - 100) {
                current = section.getAttribute('id');
            }
        });
        
        sidebarLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href') === `#${current}`) {
                link.classList.add('active');
            }
        });
    }
    
    window.addEventListener('scroll', updateActiveLink);
    updateActiveLink(); // Initial call
}

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            // Highlight syntax
            Prism.highlightAll();
            
            // Add copy buttons after syntax highlighting
            setTimeout(() => {
                addCopyButtons();
            }, 100);
            
            setupSmoothScrolling();
            setupScrollSpy();
        });

        // Close mobile sidebar when clicking outside
        document.addEventListener('click', (e) => {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobile-overlay');
            
            if (window.innerWidth < 768 && 
                !sidebar.contains(e.target) && 
                !e.target.closest('button[onclick="toggleSidebar()"]') &&
                !sidebar.classList.contains('mobile-hidden')) {
                toggleSidebar();
            }
        });
    </script>
</body>
</html>
