<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PyPositron Docs - Documentation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-in': 'slideIn 0.3s ease-out'
                    }
                }
            }
        }
    </script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateX(-20px);
            }
            to { 
                opacity: 1;
                transform: translateX(0);
            }
        }

        .sidebar {
            transition: transform 0.3s ease-in-out;
        }
        
        .sidebar.mobile-hidden {
            transform: translateX(-100%);
        }

        .mobile-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 40;
        }
        
        .mobile-overlay.active {
            display: block;
        }

        .hero-gradient {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Documentation Content Styles */
        .docs-content {
            line-height: 1.7;
            color: #374151;
        }

        .docs-content h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            margin-top: 3rem;
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .docs-content h1:first-child {
            margin-top: 0;
        }

        .docs-content h2 {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            margin-top: 2.5rem;
            color: #1f2937;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 0.5rem;
        }

        .docs-content h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            margin-top: 2rem;
            color: #374151;
        }

        .docs-content h4 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            margin-top: 1.5rem;
            color: #4b5563;
        }

        .docs-content p {
            margin-bottom: 1rem;
            color: #6b7280;
            font-size: 1rem;
        }

        .docs-content ul, .docs-content ol {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
        }

        .docs-content ul {
            list-style-type: disc;
        }

        .docs-content ol {
            list-style-type: decimal;
        }

        .docs-content li {
            margin-bottom: 0.5rem;
            color: #6b7280;
        }

        .docs-content a {
            color: #3b82f6;
            text-decoration: underline;
            font-weight: 500;
        }

        .docs-content a:hover {
            color: #1d4ed8;
        }

        .docs-content blockquote {
            border-left: 4px solid #3b82f6;
            padding-left: 1rem;
            margin: 1.5rem 0;
            background-color: #f8fafc;
            padding: 1rem;
            border-radius: 0.375rem;
        }

        .docs-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: white;
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }

        .docs-content th, .docs-content td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }

        .docs-content th {
            background-color: #f9fafb;
            font-weight: 600;
            color: #374151;
        }

        /* Inline code styling */
        .docs-content code:not([class*="language-"]) {
            background-color: #1f2937 !important;
            color: #f9fafb !important;
            padding: 0.25rem 0.5rem !important;
            border-radius: 0.375rem !important;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace !important;
            font-size: 0.875rem !important;
            font-weight: 500;
        }

        /* Code block container */
        .code-block-container {
            position: relative;
            margin: 1.5rem 0;
        }

        /* Override Prism.js styles */
        .docs-content pre[class*="language-"] {
            background: #1f2937 !important;
            border-radius: 0.5rem !important;
            padding: 1.5rem !important;
            margin: 1.5rem 0 !important;
            overflow-x: auto;
            position: relative;
        }

        .docs-content code[class*="language-"] {
            background: transparent !important;
            color: #f9fafb !important;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace !important;
            font-size: 0.875rem !important;
            line-height: 1.5;
        }

        /* Copy button for code blocks */
        .copy-button {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: rgba(55, 65, 81, 0.8);
            border: 1px solid rgba(75, 85, 99, 0.5);
            color: #d1d5db;
            padding: 0.5rem;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 2rem;
            height: 2rem;
            z-index: 10;
        }

        .copy-button:hover {
            background: rgba(75, 85, 99, 0.8);
            color: #f9fafb;
        }

        .copy-button.copied {
            background: rgba(34, 197, 94, 0.8);
            color: white;
        }

        /* Sidebar styles */
        .sidebar-link {
            display: block;
            padding: 0.5rem 1rem;
            color: #6b7280;
            text-decoration: none;
            border-radius: 0.375rem;
            transition: all 0.2s ease;
            font-size: 0.875rem;
        }

        .sidebar-link:hover {
            background-color: #f3f4f6;
            color: #374151;
        }

        .sidebar-link.active {
            background-color: #dbeafe;
            color: #1d4ed8;
            font-weight: 500;
        }

        .sidebar-section {
            margin-bottom: 1.5rem;
        }

        .sidebar-section-title {
            font-weight: 600;
            color: #374151;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
            padding: 0 1rem;
        }

        @media (max-width: 768px) {
            .sidebar {
                position: fixed;
                top: 0;
                left: 0;
                height: 100vh;
                z-index: 50;
                background: white;
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            }
        }

        /* Alert boxes */
        .alert {
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1.5rem 0;
            display: flex;
            align-items: flex-start;
        }

        .alert-info {
            background-color: #eff6ff;
            border: 1px solid #bfdbfe;
            color: #1e40af;
        }

        .alert-success {
            background-color: #f0fdf4;
            border: 1px solid #bbf7d0;
            color: #166534;
        }

        .alert-warning {
            background-color: #fffbeb;
            border: 1px solid #fed7aa;
            color: #92400e;
        }

        .alert-error {
            background-color: #fef2f2;
            border: 1px solid #fecaca;
            color: #dc2626;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-50 to-blue-50">
    <!-- Mobile Overlay -->
    <div id="mobile-overlay" class="mobile-overlay" onclick="toggleSidebar()"></div>

    <!-- Header -->
    <header class="border-b bg-white/80 backdrop-blur-sm sticky top-0 z-30">
        <div class="container mx-auto px-4 py-4 flex items-center justify-between">
            <div class="flex items-center space-x-2">
                <div class="w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                    </svg>
                </div>
                <span class="text-xl font-bold">PyPositron Docs</span>
            </div>
            <nav class="hidden md:flex items-center space-x-6">
                <a href="/" class="text-sm font-medium hover:text-blue-600 transition-colors">Home</a>
                <a href="/Home" class="text-sm font-medium text-blue-600">Docs</a>
                <a href="#" class="inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors">
                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                    </svg>
                    GitHub
                </a>
            </nav>
        </div>
    </header>

    <div class="flex">
        <!-- Sidebar -->
         <aside id="sidebar" class="sidebar w-64 bg-white border-r border-gray-200 h-screen sticky top-16 overflow-y-auto">
            <div class="p-6">
                <div class="sidebar-section">
                    <div class="sidebar-section-title">Documentation</div>
                    <nav class="space-y-1">
                        <!--<a href="ORIGINALNAME.html" class="sidebar-link active">FORMATTEDNAME</a>-->
                        <a href="/Browser-Objects" class="sidebar-link">Browser Objects</a>
<a href="/CLI-Commands" class="sidebar-link">Cli Commands</a>
<a href="/Document" class="sidebar-link">Document</a>
<a href="/Element" class="sidebar-link">Element</a>
<a href="/ElementList" class="sidebar-link">Elementlist</a>
<a href="/Getting-Started" class="sidebar-link">Getting Started</a>
<a href="/Global-Functions" class="sidebar-link">Global Functions</a>
<a href="/Home" class="sidebar-link">Home</a>
<a href="/HTMLWindow" class="sidebar-link">Htmlwindow</a>
<a href="/Installation" class="sidebar-link">Installation</a>
<a href="/Internal-Classes" class="sidebar-link">Internal Classes</a>
<a href="/Library-Reference" class="sidebar-link">Library Reference</a>
<a href="/PositronWindowWrapper" class="sidebar-link">Positronwindowwrapper</a>
<a href="/Python-HTML-Integration" class="sidebar-link">Python Html Integration</a>
<a href="/Quick-Start" class="sidebar-link">Quick Start</a>
<a href="/Style" class="sidebar-link">Style</a>
<a href="/Troubleshooting" class="sidebar-link">Troubleshooting</a>
<a href="/Virtual-Environments" class="sidebar-link">Virtual Environments</a>
                    </nav>
                </div>

            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6 md:p-8 max-w-4xl">
            <div class="docs-content">
                <!-- 
                ============================================
                INSERT CONVERTED UNSTYLED DOCS HTML HERE
                ============================================
                
                This is where you should place the automatically converted
                HTML content from your documentation source (Markdown, etc.).
                All styling is handled by CSS classes above, so no inline
                styles are needed.
                
                Example of what the converted HTML should look like:
                -->
                
                <h1>Library Reference</h1>
<p>This section provides essential documentation for the PyPositron library classes and functions. For comprehensive guides with all properties and methods, see the individual class documentation links below.</p>
<h2>CSS Selectors Quick Reference</h2>
<p>Since many PyPositron methods use CSS selectors (like <code>querySelector</code> and <code>querySelectorAll</code>), here's a quick reference for common CSS selector patterns:</p>
<h3>Basic Selectors</h3>
<ul>
<li><code>&quot;#myId&quot;</code>: Selects element with id=&quot;myId&quot;</li>
<li><code>&quot;.myClass&quot;</code>: Selects all elements with class=&quot;myClass&quot;</li>
<li><code>&quot;div&quot;</code>: Selects all <code>&lt;div&gt;</code> elements</li>
<li><code>&quot;*&quot;</code>: Selects all elements</li>
</ul>
<h3>Attribute Selectors</h3>
<ul>
<li><code>&quot;[type='text']&quot;</code>: Selects elements with type=&quot;text&quot;</li>
<li><code>&quot;[data-value]&quot;</code>: Selects elements that have a data-value attribute</li>
<li><code>&quot;[href^='https']&quot;</code>: Selects elements where href starts with &quot;https&quot;</li>
<li><code>&quot;[class*='btn']&quot;</code>: Selects elements where class contains &quot;btn&quot;</li>
</ul>
<h3>Combinators</h3>
<ul>
<li><code>&quot;div p&quot;</code>: Selects all <code>&lt;p&gt;</code> elements inside <code>&lt;div&gt;</code> elements (descendant)</li>
<li><code>&quot;div &gt; p&quot;</code>: Selects all <code>&lt;p&gt;</code> elements where the parent is a <code>&lt;div&gt;</code> (child)</li>
<li><code>&quot;div + p&quot;</code>: Selects the first <code>&lt;p&gt;</code> element that is placed immediately after <code>&lt;div&gt;</code> (adjacent sibling)</li>
</ul>
<p><strong>For complete CSS selectors reference:</strong> <a href="https://www.w3schools.com/cssref/css_selectors.asp">W3Schools CSS Selectors</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors">MDN CSS Selectors</a></p>
<h2>PositronWindowWrapper (The <code>ui</code> parameter)</h2>
<p>A wrapper for a PyPositron window with event loop thread and context. This is the object passed to your main function.</p>
<h3>Key Attributes</h3>
<ul>
<li><code>window</code>: The underlying webview.Window object</li>
<li><code>context</code>: The PositronContext object for managing execution context</li>
<li><code>document</code>: The Document object for DOM manipulation</li>
<li><code>exposed</code>: The ExposedFunctions object for interacting with exposed Python functions</li>
<li><code>htmlwindow</code>: The HTMLWindow object providing JavaScript window functionality</li>
</ul>
<p>For more information: <a href="PositronWindowWrapper">PositronWindowWrapper</a></p>
<h2>Document</h2>
<p>Provides methods for interacting with the DOM. Available as <code>ui.document</code> in your main function.</p>
<h3>Essential Properties</h3>
<ul>
<li><code>body -&gt; Element</code>: Gets the document body element</li>
<li><code>title -&gt; str</code>: Gets or sets the title of the document</li>
<li><code>URL -&gt; str</code>: Returns the full URL of the HTML document</li>
</ul>
<h3>Essential Methods</h3>
<ul>
<li><code>getElementById(element_id: str) -&gt; Element</code>: Gets element by ID</li>
<li><code>getElementsByClassName(class_name: str) -&gt; ElementList</code>: Gets elements by class name</li>
<li><code>querySelector(selector: str) -&gt; Element</code>: Gets first element matching CSS selector</li>
<li><code>querySelectorAll(selector: str) -&gt; ElementList</code>: Gets all elements matching CSS selector</li>
<li><code>createElement(tag_name: str) -&gt; Element</code>: Creates a new element</li>
<li><code>addEventListener(event_type: str, callback: Callable) -&gt; bool</code>: Attaches event handler to document</li>
</ul>
<h3>Common Usage Example</h3>
<pre><code class="language-python">def main(ui):
    # Get elements
    button = ui.document.getElementById(&quot;myButton&quot;)
    title = ui.document.querySelector(&quot;h1&quot;)
    
    # Set content
    ui.document.title = &quot;My App&quot;
    title.innerText = &quot;Welcome!&quot;
    
    # Add event listener
    def on_click():
        print(&quot;Button clicked!&quot;)
    button.addEventListener(&quot;click&quot;, on_click)
</code></pre>
<p>For more information: <a href="Document">Document</a></p>
<h2>Element</h2>
<p>Represents a DOM element. Returned by document methods like <code>getElementById</code>.</p>
<h3>Essential Properties</h3>
<ul>
<li><code>innerText -&gt; str</code>: Gets or sets the text content</li>
<li><code>innerHTML -&gt; str</code>: Gets or sets the HTML content</li>
<li><code>value</code>: Gets or sets the value (for form elements)</li>
<li><code>style -&gt; Style</code>: Gets the style object for CSS manipulation</li>
<li><code>id -&gt; str</code>: Gets or sets the element ID</li>
<li><code>className -&gt; str</code>: Gets or sets the CSS class names</li>
</ul>
<h3>Essential Methods</h3>
<ul>
<li><code>addEventListener(event_type: str, callback: Callable) -&gt; bool</code>: Adds event handler</li>
<li><code>setAttribute(name: str, value: str)</code>: Sets an attribute</li>
<li><code>getAttribute(name: str) -&gt; str</code>: Gets an attribute value</li>
<li><code>appendChild(child: Element)</code>: Appends a child element</li>
<li><code>click()</code>: Simulates a click on the element</li>
<li><code>focus()</code>: Gives focus to the element</li>
</ul>
<h3>Common Usage Example</h3>
<pre><code class="language-python">def main(ui):
    button = ui.document.getElementById(&quot;submitBtn&quot;)
    
    # Set properties
    button.innerText = &quot;Click Me!&quot;
    button.style.backgroundColor = &quot;blue&quot;
    button.style.color = &quot;white&quot;
    
    # Add event handler
    def handle_click():
        button.innerText = &quot;Clicked!&quot;
    button.addEventListener(&quot;click&quot;, handle_click)
</code></pre>
<p>For more information: <a href="Element">Element</a></p>
<h2>Style</h2>
<p>Represents the CSS style of an element. Allows direct CSS property manipulation.</p>
<h3>Usage</h3>
<pre><code class="language-python">element.style.color = &quot;red&quot;
element.style.backgroundColor = &quot;blue&quot;
element.style.fontSize = &quot;16px&quot;
element.style.display = &quot;none&quot;
</code></pre>
<h3>Common CSS Properties</h3>
<ul>
<li><code>color</code>: Text color</li>
<li><code>backgroundColor</code>: Background color</li>
<li><code>fontSize</code>: Font size</li>
<li><code>display</code>: Display type (&quot;block&quot;, &quot;inline&quot;, &quot;none&quot;)</li>
<li><code>width</code>, <code>height</code>: Element dimensions</li>
<li><code>margin</code>, <code>padding</code>: Spacing</li>
</ul>
<p>For more information: <a href="Style">Style</a></p>
<h2>ElementList</h2>
<p>Represents a collection of DOM elements. Returned by methods like <code>getElementsByClassName</code>.</p>
<h3>Usage</h3>
<pre><code class="language-python">buttons = ui.document.getElementsByClassName(&quot;btn&quot;)

# Access by index
first_button = buttons[0]

# Iterate through elements
for button in buttons:
    button.addEventListener(&quot;click&quot;, my_handler)

# Get count
count = len(buttons)
</code></pre>
<p>For more information: <a href="ElementList">ElementList</a></p>
<h2>HTMLWindow</h2>
<p>Provides JavaScript window functionality. Available as <code>ui.htmlwindow</code>.</p>
<h3>Essential Methods</h3>
<ul>
<li><code>alert(message: str)</code>: Shows an alert dialog</li>
<li><code>confirm(message: str) -&gt; bool</code>: Shows a confirm dialog</li>
<li><code>prompt(message: str, default: str = '') -&gt; str</code>: Shows a prompt dialog
(These ones specifically are also available in <code>ui.document</code> as <code>ui.document.alert</code>, <code>ui.document.confirm</code>, and <code>ui.document.prompt</code>)</li>
</ul>
<h3>Usage Example</h3>
<pre><code class="language-python">def main(ui):
    ui.htmlwindow.alert(&quot;Welcome to my app!&quot;)
    
    if ui.htmlwindow.confirm(&quot;Do you want to continue?&quot;):
        name = ui.htmlwindow.prompt(&quot;Enter your name:&quot;)
        print(f&quot;Hello, {name}!&quot;)
</code></pre>
<p>For more information: <a href="HTMLWindow">HTMLWindow</a></p>
<h2>Global Functions</h2>
<h3>openUI()</h3>
<p>The main function to create and display a PyPositron window.</p>
<pre><code class="language-python">import py_positron

def main(ui):
    # Your app code here
    pass

py_positron.openUI(&quot;index.html&quot;, main=main, width=800, height=600, title=&quot;My App&quot;)
</code></pre>
<h4>Key Parameters</h4>
<ul>
<li><code>html_path: str</code>: Path to the HTML file to load</li>
<li><code>main: Callable</code>: Function to run when window opens</li>
<li><code>width: int</code>: Window width (default: 900)</li>
<li><code>height: int</code>: Window height (default: 700)</li>
<li><code>title: str</code>: Window title (default: &quot;Window&quot;)</li>
<li><code>functions: list</code>: List of Python functions to expose to JavaScript</li>
</ul>
<p>For more information: <a href="Global-Functions">Global Functions</a></p>
<h2>Python in HTML (<code>&lt;py&gt;</code> tags)</h2>
<p>PyPositron supports embedding Python code directly in HTML using <code>&lt;py&gt;</code> tags:</p>
<h3>Inline Python Code</h3>
<pre><code class="language-html">&lt;py&gt;
print(&quot;Hello from Python!&quot;)
button = document.getElementById(&quot;myButton&quot;)
button.innerText = &quot;Updated from Python&quot;
&lt;/py&gt;
</code></pre>
<h3>External Python Files</h3>
<pre><code class="language-html">&lt;py src=&quot;path/to/script.py&quot;&gt;&lt;/py&gt;
</code></pre>
<h3>Available Objects in <code>&lt;py&gt;</code> tags</h3>
<ul>
<li><code>window</code>: The webview window object</li>
<li><code>document</code>: The Document object for DOM manipulation</li>
<li><code>exposed</code>: Access to exposed functions</li>
</ul>
<p>For more information: <a href="Python-HTML-Integration">Python in HTML</a></p>
<h2>Additional Classes</h2>
<h3>Console</h3>
<p>Browser console for debugging. Available as <code>ui.htmlwindow.console</code>.</p>
<p><strong>Key Methods:</strong> <code>log()</code>, <code>error()</code>, <code>warn()</code>, <code>clear()</code></p>
<p>For more information: <a href="Console">Console</a></p>
<h3>History, Location, Navigator, Screen</h3>
<p>Browser information and navigation objects available through <code>ui.htmlwindow</code>.</p>
<p>For more information: <a href="Browser-Objects">Browser Objects</a></p>
<h3>PositronContext, ExposedFunctions</h3>
<p>Internal classes for managing execution context and exposed functions.</p>
<p>For more information: <a href="Internal-Classes">Internal Classes</a></p>

                
                <!-- 
                ============================================
                END OF CONVERTED DOCS INSERTION POINT
                ============================================
                -->
            </div>
        </main>
    </div>

    <script>
        // Initialize Prism.js
        Prism.manual = true;

        // Copy button functionality for all code blocks
        function addCopyButtons() {
            const codeBlocks = document.querySelectorAll('pre[class*="language-"]');
            
            codeBlocks.forEach(pre => {
                // Create container if it doesn't exist
                if (!pre.parentElement.classList.contains('code-block-container')) {
                    const container = document.createElement('div');
                    container.className = 'code-block-container';
                    pre.parentNode.insertBefore(container, pre);
                    container.appendChild(pre);
                }
                
                const container = pre.parentElement;
                const codeElement = pre.querySelector('code');
                
                const copyButton = document.createElement('button');
                copyButton.className = 'copy-button';
                copyButton.innerHTML = `
                    <svg class="copy-icon" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                    </svg>
                `;
                
                copyButton.addEventListener('click', async () => {
                    try {
                        await navigator.clipboard.writeText(codeElement.textContent);
                        
                        // Change to check icon
                        copyButton.innerHTML = `
                            <svg class="check-icon" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                        `;
                        copyButton.classList.add('copied');
                        
                        // Revert back after 2 seconds
                        setTimeout(() => {
                            copyButton.innerHTML = `
                                <svg class="copy-icon" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                            `;
                            copyButton.classList.remove('copied');
                        }, 2000);
                        
                    } catch (err) {
                        console.error('Failed to copy text: ', err);
                    }
                });
                
                container.appendChild(copyButton);
            });
        }

        // Sidebar functionality
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobile-overlay');
            
            sidebar.classList.toggle('mobile-hidden');
            overlay.classList.toggle('active');
        }

        // Smooth scrolling for sidebar links (only for anchor links)
function setupSmoothScrolling() {
    const sidebarLinks = document.querySelectorAll('.sidebar-link');
    
    sidebarLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            const href = link.getAttribute('href');
            
            // Only handle anchor links (starting with #)
            if (href && href.startsWith('#')) {
                e.preventDefault();
                
                // Remove active class from all links
                sidebarLinks.forEach(l => l.classList.remove('active'));
                
                // Add active class to clicked link
                link.classList.add('active');
                
                // Get target section
                const targetId = href.substring(1);
                const targetSection = document.getElementById(targetId);
                
                if (targetSection) {
                    targetSection.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
                
                // Close mobile sidebar
                if (window.innerWidth < 768) {
                    toggleSidebar();
                }
            } else {
                // For regular links (to other pages), just close mobile sidebar if open
                if (window.innerWidth < 768) {
                    toggleSidebar();
                }
                // Let the browser handle the navigation normally
            }
        });
    });
}

        // Highlight active section based on scroll position (only for anchor links)
function setupScrollSpy() {
    const sections = document.querySelectorAll('section[id], h1[id], h2[id], h3[id]');
    const sidebarLinks = document.querySelectorAll('.sidebar-link[href^="#"]'); // Only anchor links
    
    function updateActiveLink() {
        let current = '';
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            
            if (window.scrollY >= sectionTop - 100) {
                current = section.getAttribute('id');
            }
        });
        
        sidebarLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href') === `#${current}`) {
                link.classList.add('active');
            }
        });
    }
    
    window.addEventListener('scroll', updateActiveLink);
    updateActiveLink(); // Initial call
}

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            // Highlight syntax
            Prism.highlightAll();
            
            // Add copy buttons after syntax highlighting
            setTimeout(() => {
                addCopyButtons();
            }, 100);
            
            setupSmoothScrolling();
            setupScrollSpy();
        });

        // Close mobile sidebar when clicking outside
        document.addEventListener('click', (e) => {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobile-overlay');
            
            if (window.innerWidth < 768 && 
                !sidebar.contains(e.target) && 
                !e.target.closest('button[onclick="toggleSidebar()"]') &&
                !sidebar.classList.contains('mobile-hidden')) {
                toggleSidebar();
            }
        });
    </script>
</body>
</html>
